
(library 
 (name loader)
 (modules visitor basilVisitor basilAST basilASTVisitor cfg util)
(libraries BasilIR
           hashcons
           ocamlgraph
           lsp
           zarith
           containers
  )
  (flags (-w -27 -w -39 -w -33 -w -23))
 (preprocess (pps ppx_deriving.show ppx_deriving.eq ppx_deriving.ord))
 )

(ocamllex lexkeywords)

(menhir 
  (modules parkeywords)
 )



(executable
 (public_name ocamlBasil)
 (name main)
 (flags
  (-w -27 -w -39 -w -33))
 (modules main lexkeywords parkeywords kwtypes)
 (preprocess (pps ppx_deriving.show ppx_deriving.eq ppx_deriving.ord))
 (libraries 
  linol
  linol-lwt
  lsp
  loader
  BasilIR
  ))


(executable
 (public_name loadBas)
 (name loadBas)
 (flags
  (-w -27 -w -39 -w -33))
 (modules loadBas )
 (preprocess (pps ppx_deriving.show ppx_deriving.eq ppx_deriving.ord))
 (libraries   loader   BasilIR ))
